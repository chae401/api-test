{"ast":null,"code":"var _jsxFileName = \"/Users/chae/Dev/VSCode/abb-test/src/TeamInputPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TeamInputPage() {\n  _s();\n  const [teamName, setTeamName] = useState(\"\");\n  const [responseMsg, setResponseMsg] = useState(\"\");\n  const handleInputChange = event => {\n    setTeamName(event.target.value);\n  };\n  const generateAuthHash = () => {\n    const crypto = require(\"crypto\");\n    const message = \"test\";\n    const secretKey = \"YOUR_SECRET_KEY\"; // 여기에 서버에서 제공받은 시크릿 키를 넣어야 합니다.\n    const hmac = crypto.createHmac(\"sha256\", secretKey);\n    hmac.write(message);\n    hmac.end();\n    const encoded_hash = new Buffer(hmac.read).toString(\"base64\");\n    // const authHash = hmac.digest(\"base64\");\n    // return authHash;\n    console.log(encoded_hash);\n    return encoded_hash;\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    // Step 1: auth API 호출\n    const authUrl = \"http://118.67.134.151/hackathon/api/auth\";\n    const authRequest = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        message: \"test\",\n        authHash: generateAuthHash()\n      })\n    };\n    try {\n      const authResponse = await fetch(authUrl, authRequest);\n      const authData = await authResponse.json();\n      if (authData.code === 1000) {\n        // Step 2: save API 호출\n        const saveUrl = \"http://118.67.134.151/hackathon/api/save\";\n        const saveRequest = {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            teamName: teamName\n          })\n        };\n        const saveResponse = await fetch(saveUrl, saveRequest);\n        const saveData = await saveResponse.json();\n\n        // 성공적인 응답 메시지를 상태에 저장\n        setResponseMsg(saveData.msg);\n      } else {\n        setResponseMsg(\"인증 실패\");\n      }\n    } catch (error) {\n      setResponseMsg(\"API 호출 오류: \" + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uD300\\uBA85 \\uC785\\uB825 \\uD398\\uC774\\uC9C0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\uD300\\uBA85:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: teamName,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\uC804\\uC1A1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: responseMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(TeamInputPage, \"QAHlbRnM1SsUQso14P8y5nOUHXA=\");\n_c = TeamInputPage;\nexport default TeamInputPage;\nvar _c;\n$RefreshReg$(_c, \"TeamInputPage\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","TeamInputPage","_s","teamName","setTeamName","responseMsg","setResponseMsg","handleInputChange","event","target","value","generateAuthHash","crypto","require","message","secretKey","hmac","createHmac","write","end","encoded_hash","Buffer","read","toString","console","log","handleSubmit","preventDefault","authUrl","authRequest","method","headers","body","JSON","stringify","authHash","authResponse","fetch","authData","json","code","saveUrl","saveRequest","saveResponse","saveData","msg","error","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","_c","$RefreshReg$"],"sources":["/Users/chae/Dev/VSCode/abb-test/src/TeamInputPage.js"],"sourcesContent":["import React, { useState } from \"react\";\nfunction TeamInputPage() {\n  const [teamName, setTeamName] = useState(\"\");\n  const [responseMsg, setResponseMsg] = useState(\"\");\n\n  const handleInputChange = (event) => {\n    setTeamName(event.target.value);\n  };\n\n  const generateAuthHash = () => {\n    const crypto = require(\"crypto\");\n    const message = \"test\";\n    const secretKey = \"YOUR_SECRET_KEY\"; // 여기에 서버에서 제공받은 시크릿 키를 넣어야 합니다.\n    const hmac = crypto.createHmac(\"sha256\", secretKey);\n    hmac.write(message);\n    hmac.end();\n    const encoded_hash = new Buffer(hmac.read).toString(\"base64\");\n    // const authHash = hmac.digest(\"base64\");\n    // return authHash;\n    console.log(encoded_hash);\n    return encoded_hash;\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    // Step 1: auth API 호출\n    const authUrl = \"http://118.67.134.151/hackathon/api/auth\";\n    const authRequest = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        message: \"test\",\n        authHash: generateAuthHash(),\n      }),\n    };\n\n    try {\n      const authResponse = await fetch(authUrl, authRequest);\n      const authData = await authResponse.json();\n\n      if (authData.code === 1000) {\n        // Step 2: save API 호출\n        const saveUrl = \"http://118.67.134.151/hackathon/api/save\";\n        const saveRequest = {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ teamName: teamName }),\n        };\n\n        const saveResponse = await fetch(saveUrl, saveRequest);\n        const saveData = await saveResponse.json();\n\n        // 성공적인 응답 메시지를 상태에 저장\n        setResponseMsg(saveData.msg);\n      } else {\n        setResponseMsg(\"인증 실패\");\n      }\n    } catch (error) {\n      setResponseMsg(\"API 호출 오류: \" + error.message);\n    }\n  };\n\n  return (\n    <div>\n      <h1>팀명 입력 페이지</h1>\n      <form onSubmit={handleSubmit}>\n        <label>\n          팀명:\n          <input type=\"text\" value={teamName} onChange={handleInputChange} />\n        </label>\n        <button type=\"submit\">전송</button>\n      </form>\n      <p>{responseMsg}</p>\n    </div>\n  );\n}\n\nexport default TeamInputPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACxC,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACvB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAElD,MAAMS,iBAAiB,GAAIC,KAAK,IAAK;IACnCJ,WAAW,CAACI,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACjC,CAAC;EAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,MAAMC,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;IAChC,MAAMC,OAAO,GAAG,MAAM;IACtB,MAAMC,SAAS,GAAG,iBAAiB,CAAC,CAAC;IACrC,MAAMC,IAAI,GAAGJ,MAAM,CAACK,UAAU,CAAC,QAAQ,EAAEF,SAAS,CAAC;IACnDC,IAAI,CAACE,KAAK,CAACJ,OAAO,CAAC;IACnBE,IAAI,CAACG,GAAG,CAAC,CAAC;IACV,MAAMC,YAAY,GAAG,IAAIC,MAAM,CAACL,IAAI,CAACM,IAAI,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAC;IAC7D;IACA;IACAC,OAAO,CAACC,GAAG,CAACL,YAAY,CAAC;IACzB,OAAOA,YAAY;EACrB,CAAC;EAED,MAAMM,YAAY,GAAG,MAAOlB,KAAK,IAAK;IACpCA,KAAK,CAACmB,cAAc,CAAC,CAAC;;IAEtB;IACA,MAAMC,OAAO,GAAG,0CAA0C;IAC1D,MAAMC,WAAW,GAAG;MAClBC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBpB,OAAO,EAAE,MAAM;QACfqB,QAAQ,EAAExB,gBAAgB,CAAC;MAC7B,CAAC;IACH,CAAC;IAED,IAAI;MACF,MAAMyB,YAAY,GAAG,MAAMC,KAAK,CAACT,OAAO,EAAEC,WAAW,CAAC;MACtD,MAAMS,QAAQ,GAAG,MAAMF,YAAY,CAACG,IAAI,CAAC,CAAC;MAE1C,IAAID,QAAQ,CAACE,IAAI,KAAK,IAAI,EAAE;QAC1B;QACA,MAAMC,OAAO,GAAG,0CAA0C;QAC1D,MAAMC,WAAW,GAAG;UAClBZ,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YAAE/B,QAAQ,EAAEA;UAAS,CAAC;QAC7C,CAAC;QAED,MAAMwC,YAAY,GAAG,MAAMN,KAAK,CAACI,OAAO,EAAEC,WAAW,CAAC;QACtD,MAAME,QAAQ,GAAG,MAAMD,YAAY,CAACJ,IAAI,CAAC,CAAC;;QAE1C;QACAjC,cAAc,CAACsC,QAAQ,CAACC,GAAG,CAAC;MAC9B,CAAC,MAAM;QACLvC,cAAc,CAAC,OAAO,CAAC;MACzB;IACF,CAAC,CAAC,OAAOwC,KAAK,EAAE;MACdxC,cAAc,CAAC,aAAa,GAAGwC,KAAK,CAAChC,OAAO,CAAC;IAC/C;EACF,CAAC;EAED,oBACEd,OAAA;IAAA+C,QAAA,gBACE/C,OAAA;MAAA+C,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClBnD,OAAA;MAAMoD,QAAQ,EAAE1B,YAAa;MAAAqB,QAAA,gBAC3B/C,OAAA;QAAA+C,QAAA,GAAO,eAEL,eAAA/C,OAAA;UAAOqD,IAAI,EAAC,MAAM;UAAC3C,KAAK,EAAEP,QAAS;UAACmD,QAAQ,EAAE/C;QAAkB;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D,CAAC,eACRnD,OAAA;QAAQqD,IAAI,EAAC,QAAQ;QAAAN,QAAA,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,eACPnD,OAAA;MAAA+C,QAAA,EAAI1C;IAAW;MAAA2C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACjB,CAAC;AAEV;AAACjD,EAAA,CA/EQD,aAAa;AAAAsD,EAAA,GAAbtD,aAAa;AAiFtB,eAAeA,aAAa;AAAC,IAAAsD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}